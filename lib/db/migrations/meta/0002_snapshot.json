{
  "id": "e9108e23-24ed-4aa4-a192-abf330133084",
  "prevId": "9e2d53b2-e52d-45e5-9085-06bc23dc946c",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.cameras": {
      "name": "cameras",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detections": {
      "name": "detections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "detection_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'upload'"
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "processed_image_url": {
          "name": "processed_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detection_time": {
          "name": "detection_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_ocr": {
          "name": "confidence_ocr",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bounding_box": {
          "name": "bounding_box",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ocr_engine": {
          "name": "ocr_engine",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "process_time_ms": {
          "name": "process_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "plate_number": {
          "name": "plate_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "normalized_plate": {
          "name": "normalized_plate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_plate": {
          "name": "original_plate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "camera_id": {
          "name": "camera_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.license_plates": {
      "name": "license_plates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "plate_number": {
          "name": "plate_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_ocr": {
          "name": "confidence_ocr",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "processed_image_url": {
          "name": "processed_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "province_code": {
          "name": "province_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "province_name": {
          "name": "province_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vehicle_type": {
          "name": "vehicle_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plate_type": {
          "name": "plate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plate_format": {
          "name": "plate_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plate_serial": {
          "name": "plate_serial",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registration_number": {
          "name": "registration_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bounding_box": {
          "name": "bounding_box",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "normalized_plate": {
          "name": "normalized_plate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_plate": {
          "name": "original_plate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detected_color": {
          "name": "detected_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ocr_engine": {
          "name": "ocr_engine",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_valid_format": {
          "name": "is_valid_format",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "format_description": {
          "name": "format_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vehicle_category": {
          "name": "vehicle_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plate_type_info": {
          "name": "plate_type_info",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "has_violation": {
          "name": "has_violation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "violation_types": {
          "name": "violation_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "violation_description": {
          "name": "violation_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "detection_id": {
          "name": "detection_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vehicle_id": {
          "name": "vehicle_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.locations": {
      "name": "locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_type": {
          "name": "location_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.parking_entries": {
      "name": "parking_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entry_time": {
          "name": "entry_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "exit_time": {
          "name": "exit_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "entry_type": {
          "name": "entry_type",
          "type": "entry_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "detection_id": {
          "name": "detection_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "plate_number": {
          "name": "plate_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vehicle_id": {
          "name": "vehicle_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "parking_fee": {
          "name": "parking_fee",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "is_paid": {
          "name": "is_paid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_time": {
          "name": "payment_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "parking_entries_detection_id_detections_id_fk": {
          "name": "parking_entries_detection_id_detections_id_fk",
          "tableFrom": "parking_entries",
          "tableTo": "detections",
          "columnsFrom": [
            "detection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "parking_entries_location_id_locations_id_fk": {
          "name": "parking_entries_location_id_locations_id_fk",
          "tableFrom": "parking_entries",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vehicles": {
      "name": "vehicles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "registration_number": {
          "name": "registration_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_name": {
          "name": "owner_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registration_date": {
          "name": "registration_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "make": {
          "name": "make",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vehicle_category": {
          "name": "vehicle_category",
          "type": "vehicle_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "registration_idx": {
          "name": "registration_idx",
          "columns": [
            {
              "expression": "registration_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.violations": {
      "name": "violations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "violation_time": {
          "name": "violation_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "violation_type": {
          "name": "violation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "detection_id": {
          "name": "detection_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "plate_number": {
          "name": "plate_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_image_url": {
          "name": "evidence_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_video_url": {
          "name": "evidence_video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "violations_detection_id_detections_id_fk": {
          "name": "violations_detection_id_detections_id_fk",
          "tableFrom": "violations",
          "tableTo": "detections",
          "columnsFrom": [
            "detection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.detection_source": {
      "name": "detection_source",
      "schema": "public",
      "values": [
        "upload",
        "camera",
        "import",
        "api"
      ]
    },
    "public.entry_type": {
      "name": "entry_type",
      "schema": "public",
      "values": [
        "entry",
        "exit",
        "unknown"
      ]
    },
    "public.plate_type": {
      "name": "plate_type",
      "schema": "public",
      "values": [
        "civilian",
        "military",
        "police",
        "diplomatic",
        "temporary",
        "special"
      ]
    },
    "public.vehicle_category": {
      "name": "vehicle_category",
      "schema": "public",
      "values": [
        "car",
        "truck",
        "motorcycle",
        "bus",
        "special",
        "other"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}